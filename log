
@ the files for pppd to start

1
   demand
   persist
   idle 300
   maxfail 0
   lock
   /dev/ttyACM0
   57600
   noauth
   defaultroute
   user idm/g/1063
   password Precidia1
   connect '/usr/sbin/chat -t3 -f /etc/chatscripts/dialup.chat'
   
   2 
   '' AT
   TIMEOUT 12
   OK ATD9w6132363813
   TIMEOUT 60
   CONNECT

   3
   config interface wan1
        option proto 'ppp'
        option device '/dev/ttyACM0'
        option username 'idm/g/1063'
        option password 'Precidia1'
        option connect '/usr/sbin/chat -t3 -f /etc/chatscripts/dialup.chat'


@ sed to get only one section from the ini file
   
   sed  -n "/\[ssh]/,/\[/p" precidia.cfg 

@ use nc & openssl as a proxy
   openssl s_client -connect 127.0.0.1:4433 > fifo_ou  < fifo_in
   nc -l 9999 -k < fifo_ou  > fifo_in 
   caution the pipe direction one is in then out and another is reversed

@ a way to save a pipe when use the nc

  nc -l 12345  < fifo_in | nc www.google.com 80 > fifo_in

@ vim express substitution
  s/xyz/\=printf("%s\t0x3%x", submatch(0), (line('.')-1)*4)/gc
  \= expression substitution
  submatch(0) -eq & all the s command match things

@ at command
  AT+CLAC to list the command

@ use ssh to put something to remote host 
 cat ~/temp/precidia.cfg | ssh -p 222 precidia@10.0.3.76 "cat - > /precidia.cfg"
 ssh -p 222 precidia@10.0.3.75 "cat /precidia.cfg" > /export/home/jxui/temp/precidia.cfg

@ use to determine if it's a ip address
 echo "192.168.4.1" | sed -n "/[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}/p"

@ update service
  update-rc.d -f name remove

@ CISCO VPN
 Indeed, 8h is the ASA default for the IPSec SA lifetime. To clarify the different lifetimes: IKE lifetime is the "Phase 1 SA lifetime" in the Cisco world (in their crypto isakmp settings), which defaults to 24 hours. keylife is actually an alias for salifetime, which is the "Phase 2 SA lifetime" on the Cisco side of things (in their crypto ipsec settings), which defaults to 8 hours - compare against what they have. Oh, and have you compared crypto settings against what they use? Ask them on the 3des... settings for phases 1 and 2 (IKE and ESP), as well as whether they're using PFS.

@nsupdate
 server x.x.x.x
 update delete host.xx.com. A
 send
 quit

@openssl 
 1 generate the root
  openssl req \
  -x509 -nodes -days 3650 \
  -subj '/C=CA/ST=Ontario/L=Ottawa/CN=Precidia Technologies Inc./O=Precidia Technologies Inc./OU=Precidia Technologies Inc./' \
  -newkey rsa:2048 -keyout Precidia_ROOT_CA.key -out Precidia_ROOT_CA.pem
 -nodes will not encrypt the private key
 to encrypt the key use
  openssl rsa -des3 -in Precidia_ROOT_CA.key  -out Precidia_ROOT_CA.skey
 2 generate the server key 
  openssl genrsa  -out server.key 1024
 3 generate the server crt 
  openssl req -new -key server.key -out server.csr
 4 sign the crt
  openssl ca -in netvumanager.csr  -out netvumanager.crt -keyfile Precidia_ROOT_CA.key  -cert Precidia_ROOT_CA.pem 

 5 generate the sig
  openssl rsautl -sign -inkey private.pem -keyform PEM -in hash -passin pass[file]:password > signaturea
 6 verify the sig
  openssl rsautl -verify -inkey public.pem -keyform PEM -pubin -in signature > verified
 7 abstract pub key from cert
  openssl x509 -in signing-cert.pem -pubkey -noout

 8 generat a pubkey from private key
  openssl rsa -in buildimage.skey -pubout > buildimage.pub

@ NFS sever dead when copy big size file
  mount -o nolock,rsize=1024,wsize=1024

@ the kernel has problem after 5 minutes
  mostly because the jiffies is overflowed and cause this problem, the jiffies start as max-300s

@ the kernel debug
  compile a module and get the function pointer, then pointer to own function

@ netstat
  t tcp u udp l listening p program n numeric

@ LXC container 
  1 to create the bridge used by vms

  auto br0
        iface br0 inet dhcp
        bridge_ports eth0
        bridge_fd 0
        bridge_maxwait 0

  2 to stop the default bridgt lxcbr0
    edit /etc/default/lxc
    edit /etc/lxc/lxc.conf to let use br0 when create a new machine

  3 change lwp lxclite start to add command /init
    add a link for ubuntu /init -> /sbin/init

  4 how to mount in a container
    1) Copy /etc/apparmor.d/lxc/lxc-default to
       /etc/apparmor.d/lxc/lxc-default-with-loops
    2) Edit /etc/apparmor.d/lxc/lxc-default-with-loops
      - Rename lxc-container-default to lxc-container-default-with-loops
      - Add an entry: "mount -> /mnt/," or matching the source node, fstype,
      ... depending what you exactly want to allow
    3) sudo /etc/init.d/apparmor reload
    4) Edit your container's configuration and set lxc.aa_profile to
       lxc-container-default-with-loops
    5) Restart your container
  
  
     Alternatively, you could set "lxc.aa_profile = unconfined" which would
     turn off apparmor entirely for the container.
    
    after restart in container, it will not start again, then run
    mount -o remount,rw /dev/pts 

@ mail and give a sender address
  echo "123" | mail -s "test for postfix" --append=FROM:jxue@precidia.com jxue@precidia.com

@ getent to show the shadow info

@ linux kernel panic
  Use the EABI to compile kernel to compatible with the file system

@ openssh proxy
   -L local, forward packet from client to server to any
   the localhost always the destination, for -L the localhost is the server and for -R the localhost is client
   -R remote, forward packet from server side to client to any
   -L 0.0.0.0:2000:host:3000 user@sshhost local 2000 port to host:3000 througout sshhost
   -R 0.0.0.0:9000:localhost:3000 user@sshhost  sshhost 9000 to localhost 3000
   -o GatewayPorts=yes needed for remote  or you can login to remote (the outside login to remote server) and locally connect it
