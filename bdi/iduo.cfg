; bdiGDB configuration for iMX28
; ---------------------------------------------------
;
[INIT]
WM32 0x80019B84 0x00030000
; poweron
WM32 0x80040000 0x00060000
DELAY 110
; ddr2
WM32 0x800181A8 0xffffffff
WM32 0x800181B8 0x0030ffff
WM32 0x800181C8 0x3fffffff
WM32 0x800181D8 0x0003ffff

;temp
;WM32 0x80040054 0x04000000

;to burn fuse this must be set
;WM32 0x800401D4 0x00000080

;WM32 0x80040064 0x00000001
;WM32 0x80040068 0x0000001e



; clock
WM32 0x800401B4 0x00008000
; emi clock
WM32 0x800401B4 0x00003f00
WM32 0x800401B8 0x00002a00
; rest clock
WM32 0x800401B8 0x00008000
DELAY 110
WM32 0x800400F0 0x00000102
WM32 0x800401D8 0x00000080
DELAY 100
; vdda
WM32 0x80044050 0x0000270c
; DRAM
WM32 0x800E0040 0x00000000
; EMI
WM32 0x800E0000 0x00000000
WM32 0x800E0004 0x00000000
WM32 0x800E0008 0x00000000
WM32 0x800E000C 0x00000000
WM32 0x800E0010 0x00000000
WM32 0x800E0014 0x00000000
WM32 0x800E0018 0x00000000
WM32 0x800E001C 0x00000000
WM32 0x800E0020 0x00000000
WM32 0x800E0024 0x00000000
WM32 0x800E0028 0x00000000
WM32 0x800E002C 0x00000000
WM32 0x800E0030 0x00000000
WM32 0x800E0034 0x00000000
WM32 0x800E0038 0x00000000
WM32 0x800E003C 0x00000000
WM32 0x800E0040 0x00000000
WM32 0x800E0044 0x00000100
WM32 0x800E0048 0x00000000
WM32 0x800E004C 0x00000000
WM32 0x800E0050 0x00000000
WM32 0x800E0054 0x00000000
WM32 0x800E0058 0x00000000
WM32 0x800E005C 0x00000000
WM32 0x800E0060 0x00000000
WM32 0x800E0064 0x00000000
WM32 0x800E0068 0x00010101
WM32 0x800E006C 0x01010101
WM32 0x800E0070 0x000f0f01
WM32 0x800E0074 0x0f02020a
WM32 0x800E0078 0x00000000
WM32 0x800E007C 0x00010101
WM32 0x800E0080 0x00000100
WM32 0x800E0084 0x00000100
WM32 0x800E0088 0x00000000
WM32 0x800E008C 0x00000002
WM32 0x800E0090 0x01010000
WM32 0x800E0094 0x07080403
WM32 0x800E0098 0x06005003
WM32 0x800E009C 0x0a0000c8
WM32 0x800E00A0 0x02009c40
WM32 0x800E00A4 0x0002030c
WM32 0x800E00A8 0x0036a609
WM32 0x800E00AC 0x031a0612
WM32 0x800E00B0 0x02030202
WM32 0x800E00B4 0x00c8001c
WM32 0x800E00B8 0x00000000
WM32 0x800E00BC 0x00000000
WM32 0x800E00C0 0x00012100
WM32 0x800E00C4 0xffff0303
WM32 0x800E00C8 0x00012100
WM32 0x800E00CC 0xffff0303
WM32 0x800E00D0 0x00012100
WM32 0x800E00D4 0xffff0303
WM32 0x800E00D8 0x00012100
WM32 0x800E00DC 0xffff0303
WM32 0x800E00E0 0x00000003
WM32 0x800E00E4 0x00000000
WM32 0x800E00E8 0x00000000
WM32 0x800E00EC 0x00000000
WM32 0x800E00F0 0x00000000
WM32 0x800E00F4 0x00000000
WM32 0x800E00F8 0x00000000
WM32 0x800E00FC 0x00000000
WM32 0x800E0100 0x00000000
WM32 0x800E0104 0x00000000
WM32 0x800E0108 0x00000612
WM32 0x800E010C 0x01000f02
WM32 0x800E0110 0x06120612
WM32 0x800E0114 0x00000200
WM32 0x800E0118 0x00020007
WM32 0x800E011C 0xf4004a27
WM32 0x800E0120 0xf4004a27
WM32 0x800E0124 0xf4004a27
WM32 0x800E0128 0xf4004a27
WM32 0x800E012C 0x07000300
WM32 0x800E0130 0x07000300
WM32 0x800E0134 0x07400300
WM32 0x800E0138 0x07400300
WM32 0x800E013C 0x00000005
WM32 0x800E0140 0x00000000
WM32 0x800E0144 0x00000000
WM32 0x800E0148 0x01000000
WM32 0x800E014C 0x01020408
WM32 0x800E0150 0x08040201
WM32 0x800E0154 0x000f1133
WM32 0x800E0158 0x00000000
WM32 0x800E015C 0x00001f04
WM32 0x800E0160 0x00001f04
WM32 0x800E0164 0x00001f04
WM32 0x800E0168 0x00001f04
WM32 0x800E016C 0x00001f04
WM32 0x800E0170 0x00001f04
WM32 0x800E0174 0x00001f04
WM32 0x800E0178 0x00001f04
WM32 0x800E017C 0x00000000
WM32 0x800E0180 0x00000000
WM32 0x800E0184 0x00000000
WM32 0x800E0188 0x00000000
WM32 0x800E018C 0x00000000
WM32 0x800E0190 0x00000000
WM32 0x800E0194 0x00000000
WM32 0x800E0198 0x00000000
WM32 0x800E019C 0x00000000
WM32 0x800E01A0 0x00000000
WM32 0x800E01A4 0x00000000
WM32 0x800E01A8 0x00000000
WM32 0x800E01AC 0x00000000
WM32 0x800E01B0 0x00000000
WM32 0x800E01B4 0x00000000
WM32 0x800E01B8 0x00000000
WM32 0x800E01BC 0x00000000
WM32 0x800E01C0 0x00000000
WM32 0x800E01C4 0x00000000
WM32 0x800E01C8 0x00000000
WM32 0x800E01CC 0x00000000
WM32 0x800E01D0 0x00000000
WM32 0x800E01D4 0x00000000
WM32 0x800E01D8 0x00000000
WM32 0x800E01DC 0x00000000
WM32 0x800E01E0 0x00000000
WM32 0x800E01E4 0x00000000
WM32 0x800E01E8 0x00000000
WM32 0x800E01EC 0x00000000
WM32 0x800E01F0 0x00000000
WM32 0x800E01F4 0x00000000
WM32 0x800E01F8 0x00000000
WM32 0x800E01FC 0x00000000
WM32 0x800E0200 0x00000000
WM32 0x800E0204 0x00000000
WM32 0x800E0208 0x00000000
WM32 0x800E020C 0x00000000
WM32 0x800E0210 0x00000000
WM32 0x800E0214 0x00000000
WM32 0x800E0218 0x00000000
WM32 0x800E021C 0x00000000
WM32 0x800E0220 0x00000000
WM32 0x800E0224 0x00000000
WM32 0x800E0228 0x00000000
WM32 0x800E022C 0x00000000
WM32 0x800E0230 0x00000000
WM32 0x800E0234 0x00000000
WM32 0x800E0238 0x00000000
WM32 0x800E023C 0x00000000
WM32 0x800E0240 0x00000000
WM32 0x800E0244 0x00000000
WM32 0x800E0248 0x00000000
WM32 0x800E024C 0x00000000
WM32 0x800E0250 0x00000000
WM32 0x800E0254 0x00000000
WM32 0x800E0258 0x00000000
WM32 0x800E025C 0x00000000
WM32 0x800E0260 0x00000000
WM32 0x800E0264 0x00000000
WM32 0x800E0268 0x00000000
WM32 0x800E026C 0x00000000
WM32 0x800E0270 0x00000000
WM32 0x800E0274 0x00000000
WM32 0x800E0278 0x00000000
WM32 0x800E027C 0x00000000
WM32 0x800E0280 0x00000000
WM32 0x800E0284 0x00000000
WM32 0x800E0288 0x00010000
WM32 0x800E028C 0x00030404
WM32 0x800E0290 0x00000003
WM32 0x800E0294 0x00000000
WM32 0x800E0298 0x00000000
WM32 0x800E029C 0x00000000
WM32 0x800E02A0 0x00000000
WM32 0x800E02A4 0x00000000
WM32 0x800E02A8 0x00000000
WM32 0x800E02AC 0x01010000
WM32 0x800E02B0 0x01000000
WM32 0x800E02B4 0x03030000
WM32 0x800E02B8 0x00010303
WM32 0x800E02BC 0x01020202
WM32 0x800E02C0 0x00000000
WM32 0x800E02C4 0x02040303
WM32 0x800E02C8 0x21002103
WM32 0x800E02CC 0x00061200
WM32 0x800E02D0 0x06120612
WM32 0x800E02D4 0x04420442
WM32 0x800E02D8 0x04420442
WM32 0x800E02DC 0x00040004
WM32 0x800E02E0 0x00040004
WM32 0x800E02E4 0x00000000
WM32 0x800E02E8 0x00000000
WM32 0x800E02EC 0x00000000
WM32 0x800E02F0 0x00000000
WM32 0x800E02F4 0xffffffff
WM32 0x800E0044 0xfffffffe
WM32 0x800E0040 0x00000001
RM32 0x800e00e8
DELAY 1000

;change cpu clock
;WM32 0x80044040 0x0002071c   
;DELAY 1000
;WM32 0x800401B0 0x92925553
;WM32 0x800401D4 0x00040000
;WM32 0x80040064 0x0000001f
;WM32 0x80040068 0x0000001c
;DELAY 1000
;WM32 0x80040050 0x00010001
;WM32 0x800401D8 0x00040000


;enet
;WM32 0x80018188 0xffffffff
;WM32 0x80018198 0x00000003

;duart
WM32 0x80018178	0xf
WM32 0x80018174	0xa


;let cpu exit thumb mode
WREG CPSR 0x000000d3
;WGPR 15   0x40000000


[TARGET]
CPUTYPE     ARM926E
CLOCK       1	               ;JTAG clock (0=Adaptive, 1=8MHz, 2=4MHz, 3=2MHz)
WAKEUP      3000                ;because of slow rising reset line
RESET       HARD 1000           ;beause of heavy capacitive load on reset line
ENDIAN      LITTLE              ;memory model (LITTLE | BIG)
;BREAKMODE   SOFT 0xDFFFDFFF     ;SOFT or HARD, ARM / Thumb break code
;VECTOR      CATCH 0x1f          ;catch D_Abort, P_Abort, SWI, Undef and Reset
;SIO         7 9600              ;TCP port for serial IO
;DCC         7                   ;TCP port for DCC I/O
;STARTUP    RESET
[HOST]
IP          192.168.4.253
FILE        u-boot.bin.iduo
FORMAT      BIN 0x40000000
START       0x40000000
LOAD        MANUAL      ;load VxWorks code MANUAL or AUTO after reset
PROMPT      i.MX28:/> 
[FLASH]


[REGS]
FILE       $reg926e.def








